@page
@using Microsoft.AspNetCore.Identity
@attribute [IgnoreAntiforgeryToken]
@inject TestingBlazor.Services.Authentication.AuthenticationCommandService authService
@inject Microsoft.AspNetCore.Components.Authorization.AuthenticationStateProvider authenticationStateProvider

@functions {
	public async Task<IActionResult> OnPost()
	{
		var custom = authenticationStateProvider as TestingBlazor.Services.Authentication.CustomAuthenticationStateProvider;
		custom.Clear();
		authService.Execute(custom);

		return Redirect("/Login");
	}
}
